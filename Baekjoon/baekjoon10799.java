package Baekjoon;

import java.util.Scanner;
import java.util.Stack;

public class baekjoon10799 {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);

        // ê´„í˜¸ ë¬¸ìì—´ ì…ë ¥ ë°›ìŒ (ê³µë°± ì—†ëŠ” í•œ ì¤„ ì…ë ¥)
        String input = sc.next();

        // ì—¬ëŠ” ê´„í˜¸ '('ë¥¼ ì €ì¥í•  ìŠ¤íƒ
        Stack<Character> stack = new Stack<>();

        // ì˜ë ¤ì§„ ì‡ ë§‰ëŒ€ê¸° ì¡°ê° ìˆ˜ë¥¼ ì €ì¥í•  ë³€ìˆ˜
        int total = 0;

        // ë¬¸ìì—´ì˜ ê° ë¬¸ìë¥¼ í•˜ë‚˜ì”© í™•ì¸
        for(int i = 0; i < input.length(); i++){
            char ch = input.charAt(i);

            if(ch == '(') {
                // ì—¬ëŠ” ê´„í˜¸: ìƒˆë¡œìš´ ì‡ ë§‰ëŒ€ê¸°ì˜ ì‹œì‘ì¼ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ìŠ¤íƒì— push
                stack.push(ch);
            } else {
                // ë‹«ëŠ” ê´„í˜¸ ')'ë¥¼ ë§Œë‚œ ê²½ìš°

                stack.pop();  // ì¼ë‹¨ ë¬´ì¡°ê±´ ìŠ¤íƒì—ì„œ í•˜ë‚˜ pop (ì§ ë§ì¶”ê¸°ìš©)

                if(input.charAt(i - 1) == '('){
                    // ë°”ë¡œ ì• ë¬¸ìê°€ '('ì´ë©´ => ë ˆì´ì € '()' íŒ¨í„´
                    // ë ˆì´ì €ê°€ ì˜ì´ë©´ í˜„ì¬ ì—´ë ¤ ìˆëŠ” ì‡ ë§‰ëŒ€ê¸° ìˆ˜ë§Œí¼ ì¡°ê° ìƒê¹€
                    total += stack.size();
                } else {
                    // ë°”ë¡œ ì• ë¬¸ìê°€ ')'ì´ë©´ => ì‡ ë§‰ëŒ€ê¸°ì˜ ë
                    // ë ì¡°ê° í•˜ë‚˜ ì¶”ê°€
                    total += 1;
                }
            }
        }

        // ê²°ê³¼ ì¶œë ¥: ì˜ë¦° ì‡ ë§‰ëŒ€ê¸° ì¡°ê°ì˜ ì´ ìˆ˜
        System.out.println(total);
    }
}
/*
ğŸ§  ê°„ë‹¨ ìš”ì•½ (ì½”ë“œ ë¡œì§ íë¦„)
'(' â†’ ìŠ¤íƒì— push
')' â†’
ì•ì´ '('ì´ë©´ â†’ ë ˆì´ì € â†’ í˜„ì¬ ìŠ¤íƒ í¬ê¸°ë§Œí¼ ì¡°ê° ì¶”ê°€
ì•ì´ ')'ì´ë©´ â†’ ì‡ ë§‰ëŒ€ê¸° ë â†’ ì¡°ê° 1ê°œ ì¶”ê°€
 */
/*
ğŸ“Œ ì£¼ì˜í•  ì 
input.charAt(i - 1)ì„ ì‚¬ìš©í•  ë•ŒëŠ” i > 0ì´ ë³´ì¥ë˜ì–´ì•¼ í•¨ â†’ ì´ ì½”ë“œëŠ” ì²˜ìŒì— ch == '('ì¸ ê²½ìš°ë§Œ pushí•˜ë¯€ë¡œ ê´œì°®ìŒ
ë ˆì´ì €ëŠ” í•­ìƒ '()' í˜•íƒœë¡œë§Œ ì£¼ì–´ì§ â†’ ì…ë ¥ì´ ì˜¬ë°”ë¥¸ ê´„í˜¸ ë¬¸ìì—´ì´ë¼ê³  ê°€ì •ë¨
 */